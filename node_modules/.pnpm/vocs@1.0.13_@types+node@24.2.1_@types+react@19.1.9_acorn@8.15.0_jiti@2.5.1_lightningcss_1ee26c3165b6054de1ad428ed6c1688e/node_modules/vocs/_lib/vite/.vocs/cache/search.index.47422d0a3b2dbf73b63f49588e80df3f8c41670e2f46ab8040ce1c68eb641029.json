"{\"value\":{\"mdx\":\"# Connecting Your Service\\n\\n## 1. Prepare Your HTTP Endpoint\\n\\nEnsure your service accepts POST requests with the following format:\\n\\n**Request Format:**\\n\\n```json\\n{\\n  \\\"model\\\": \\\"gpt-3.5-turbo\\\",\\n  \\\"messages\\\": [\\n    {\\\"role\\\": \\\"user\\\", \\\"content\\\": \\\"Hello, AI!\\\"}\\n  ],\\n  \\\"stream\\\": true,\\n  \\\"max_tokens\\\": 150,\\n  \\\"temperature\\\": 0.7\\n}\\n```\\n\\n**Response Format (Non-streaming):**\\n\\n```json\\n{\\n  \\\"choices\\\": [\\n    {\\n      \\\"message\\\": {\\n        \\\"role\\\": \\\"assistant\\\",\\n        \\\"content\\\": \\\"Hello! How can I help you today?\\\"\\n      },\\n      \\\"finish_reason\\\": \\\"stop\\\"\\n    }\\n  ],\\n  \\\"usage\\\": {\\n    \\\"prompt_tokens\\\": 10,\\n    \\\"completion_tokens\\\": 8,\\n    \\\"total_tokens\\\": 18\\n  }\\n}\\n```\\n\\n**Response Format (Streaming):**\\nFor streaming responses, your service should return Server-Sent Events:\\n\\n```http\\nContent-Type: text/event-stream\\n\\ndata: {\\\"choices\\\":[{\\\"delta\\\":{\\\"content\\\":\\\"Hello\\\"}}]}\\n\\ndata: {\\\"choices\\\":[{\\\"delta\\\":{\\\"content\\\":\\\" there\\\"}}]}\\n\\ndata: {\\\"choices\\\":[{\\\"delta\\\":{\\\"content\\\":\\\"!\\\"}}],\\\"finish_reason\\\":\\\"stop\\\",\\\"usage\\\":{\\\"prompt_tokens\\\":10,\\\"completion_tokens\\\":3}}\\n\\ndata: [DONE]\\n```\\n\\n## ⚠️ Critical Payment Warning\\n\\n**IMPORTANT**: You will NOT receive payment for requests if your responses do not include a properly formatted `usage` object.\\n\\n### Required Usage Object\\n\\nEvery response must include a `usage` object with the following structure:\\n\\n```json\\n{\\n  \\\"usage\\\": {\\n    \\\"prompt_tokens\\\": 10,\\n    \\\"completion_tokens\\\": 8,\\n    \\\"total_tokens\\\": 18\\n  }\\n}\\n```\\n\\n### For Non-Streaming Responses\\n\\nInclude the `usage` object directly in your response:\\n\\n```json\\n{\\n  \\\"choices\\\": [...],\\n  \\\"usage\\\": {\\n    \\\"prompt_tokens\\\": 10,\\n    \\\"completion_tokens\\\": 8,\\n    \\\"total_tokens\\\": 18\\n  }\\n}\\n```\\n\\n### For Streaming Responses\\n\\nThe `usage` object **must be included in the final chunk** before `[DONE]`:\\n\\n```http\\ndata: {\\\"choices\\\":[{\\\"delta\\\":{\\\"content\\\":\\\"Final word\\\"}}],\\\"finish_reason\\\":\\\"stop\\\",\\\"usage\\\":{\\\"prompt_tokens\\\":10,\\\"completion_tokens\\\":15,\\\"total_tokens\\\":25}}\\n\\ndata: [DONE]\\n```\\n\\n**What happens without usage data:**\\n\\n- The AiMo Network cannot calculate your payment\\n- Your earnings will be zero for that request\\n- The user's locked balance will be recovered\\n- No settlement transaction will be created\\n\\nAlways ensure your service correctly calculates and reports token usage to receive payment for your services.\\n\\n## 2. Start the Proxy\\n\\nUse the AiMo proxy to connect your service to the network:\\n\\n```bash\\naimo proxy \\\\\\n  --node-url \\\"https://devnet.aimo.network\\\" \\\\\\n  --secret-key \\\"aimo-sk-prod-[your-api-key]\\\" \\\\\\n  --endpoint-url \\\"http://localhost:8080\\\" \\\\\\n  --api-key \\\"your-service-api-key\\\"\\n```\\n\\n**Parameters:**\\n\\n- `--node-url`: AiMo Network node URL (use devnet for testing)\\n- `--secret-key`: Your provider API key\\n- `--endpoint-url`: Your service's HTTP endpoint\\n- `--api-key`: Optional API key for your service (added as Authorization header)\\n\\n## 3. Test Your Connection\\n\\nOnce the proxy is running, you should see logs indicating successful connection:\\n\\n```text\\nINFO Starting proxy service...\\nINFO Node URL: https://devnet.aimo.network\\nINFO Endpoint URL: http://localhost:8080\\nINFO Connecting to WebSocket: wss://devnet.aimo.network/api/v1/providers/subscribe\\nINFO WebSocket connection established\\n```\\n\",\"document\":[{\"href\":\"/provider-guide/service-integration#connecting-your-service\",\"html\":\"</header>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#connecting-your-service\",\"isPage\":true,\"text\":\"\\n\",\"title\":\"Connecting Your Service\",\"titles\":[]},{\"href\":\"/provider-guide/service-integration#1-prepare-your-http-endpoint\",\"html\":\"\\n<p>Ensure your service accepts POST requests with the following format:</p>\\n<strong>Request Format:</strong>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;model&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&quot;gpt-3.5-turbo&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;messages&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">    {</span><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">&quot;role&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&quot;user&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">&quot;content&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&quot;Hello, AI!&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  ],</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;stream&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">true</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;max_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">150</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;temperature&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">0.7</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}</span></span></code></pre>\\n<strong>Response Format (Non-streaming):</strong>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;choices&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">    {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">      &quot;message&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">        &quot;role&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&quot;assistant&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">        &quot;content&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&quot;Hello! How can I help you today?&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">      },</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">      &quot;finish_reason&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&quot;stop&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  ],</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;usage&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;prompt_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">10</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;completion_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">8</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;total_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">18</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}</span></span></code></pre>\\n<p><strong>Response Format (Streaming):</strong>\\nFor streaming responses, your service should return Server-Sent Events:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">Content-Type</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> text/event-stream</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">data</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot;Hello&quot;}}]}</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">data</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot; there&quot;}}]}</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">data</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot;!&quot;}}],&quot;finish_reason&quot;:&quot;stop&quot;,&quot;usage&quot;:{&quot;prompt_tokens&quot;:10,&quot;completion_tokens&quot;:3}}</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">data</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> [DONE]</span></span></code></pre>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#1-prepare-your-http-endpoint\",\"isPage\":false,\"text\":\"\\nEnsure your service accepts POST requests with the following format:\\nRequest Format:\\n{\\n  &quot;model&quot;: &quot;gpt-3.5-turbo&quot;,\\n  &quot;messages&quot;: [\\n    {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Hello, AI!&quot;}\\n  ],\\n  &quot;stream&quot;: true,\\n  &quot;max_tokens&quot;: 150,\\n  &quot;temperature&quot;: 0.7\\n}\\nResponse Format (Non-streaming):\\n{\\n  &quot;choices&quot;: [\\n    {\\n      &quot;message&quot;: {\\n        &quot;role&quot;: &quot;assistant&quot;,\\n        &quot;content&quot;: &quot;Hello! How can I help you today?&quot;\\n      },\\n      &quot;finish_reason&quot;: &quot;stop&quot;\\n    }\\n  ],\\n  &quot;usage&quot;: {\\n    &quot;prompt_tokens&quot;: 10,\\n    &quot;completion_tokens&quot;: 8,\\n    &quot;total_tokens&quot;: 18\\n  }\\n}\\nResponse Format (Streaming):\\nFor streaming responses, your service should return Server-Sent Events:\\nContent-Type: text/event-stream\\n \\ndata: {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot;Hello&quot;}}]}\\n \\ndata: {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot; there&quot;}}]}\\n \\ndata: {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot;!&quot;}}],&quot;finish_reason&quot;:&quot;stop&quot;,&quot;usage&quot;:{&quot;prompt_tokens&quot;:10,&quot;completion_tokens&quot;:3}}\\n \\ndata: [DONE]\\n\",\"title\":\"1. Prepare Your HTTP Endpoint\",\"titles\":[\"Connecting Your Service\"]},{\"href\":\"/provider-guide/service-integration#️-critical-payment-warning\",\"html\":\"\\n<p><strong>IMPORTANT</strong>: You will NOT receive payment for requests if your responses do not include a properly formatted <code>usage</code> object.</p>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#️-critical-payment-warning\",\"isPage\":false,\"text\":\"\\nIMPORTANT: You will NOT receive payment for requests if your responses do not include a properly formatted usage object.\\n\",\"title\":\"⚠️ Critical Payment Warning\",\"titles\":[\"Connecting Your Service\"]},{\"href\":\"/provider-guide/service-integration#required-usage-object\",\"html\":\"\\n<p>Every response must include a <code>usage</code> object with the following structure:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;usage&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;prompt_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">10</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;completion_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">8</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;total_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">18</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}</span></span></code></pre>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#required-usage-object\",\"isPage\":false,\"text\":\"\\nEvery response must include a usage object with the following structure:\\n{\\n  &quot;usage&quot;: {\\n    &quot;prompt_tokens&quot;: 10,\\n    &quot;completion_tokens&quot;: 8,\\n    &quot;total_tokens&quot;: 18\\n  }\\n}\\n\",\"title\":\"Required Usage Object\",\"titles\":[\"Connecting Your Service\",\"⚠️ Critical Payment Warning\"]},{\"href\":\"/provider-guide/service-integration#for-non-streaming-responses\",\"html\":\"\\n<p>Include the <code>usage</code> object directly in your response:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;choices&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: [</span><span style=\\\"color:#B31D28;font-style:italic;--shiki-dark:#FF938A;--shiki-dark-font-style:italic\\\">...</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">],</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">  &quot;usage&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;prompt_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">10</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;completion_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">8</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#8DDB8C\\\">    &quot;total_tokens&quot;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">18</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}</span></span></code></pre>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#for-non-streaming-responses\",\"isPage\":false,\"text\":\"\\nInclude the usage object directly in your response:\\n{\\n  &quot;choices&quot;: [...],\\n  &quot;usage&quot;: {\\n    &quot;prompt_tokens&quot;: 10,\\n    &quot;completion_tokens&quot;: 8,\\n    &quot;total_tokens&quot;: 18\\n  }\\n}\\n\",\"title\":\"For Non-Streaming Responses\",\"titles\":[\"Connecting Your Service\",\"⚠️ Critical Payment Warning\"]},{\"href\":\"/provider-guide/service-integration#for-streaming-responses\",\"html\":\"\\n<p>The <code>usage</code> object <strong>must be included in the final chunk</strong> before <code>[DONE]</code>:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">data</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot;Final word&quot;}}],&quot;finish_reason&quot;:&quot;stop&quot;,&quot;usage&quot;:{&quot;prompt_tokens&quot;:10,&quot;completion_tokens&quot;:15,&quot;total_tokens&quot;:25}}</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A;--shiki-dark:#8DDB8C\\\">data</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">:</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> [DONE]</span></span></code></pre>\\n<strong>What happens without usage data:</strong>\\n<ul>\\n<li>The AiMo Network cannot calculate your payment</li>\\n<li>Your earnings will be zero for that request</li>\\n<li>The user&#x27;s locked balance will be recovered</li>\\n<li>No settlement transaction will be created</li>\\n</ul>\\n<p>Always ensure your service correctly calculates and reports token usage to receive payment for your services.</p>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#for-streaming-responses\",\"isPage\":false,\"text\":\"\\nThe usage object must be included in the final chunk before [DONE]:\\ndata: {&quot;choices&quot;:[{&quot;delta&quot;:{&quot;content&quot;:&quot;Final word&quot;}}],&quot;finish_reason&quot;:&quot;stop&quot;,&quot;usage&quot;:{&quot;prompt_tokens&quot;:10,&quot;completion_tokens&quot;:15,&quot;total_tokens&quot;:25}}\\n \\ndata: [DONE]\\nWhat happens without usage data:\\n\\nThe AiMo Network cannot calculate your payment\\nYour earnings will be zero for that request\\nThe user&#x27;s locked balance will be recovered\\nNo settlement transaction will be created\\n\\nAlways ensure your service correctly calculates and reports token usage to receive payment for your services.\\n\",\"title\":\"For Streaming Responses\",\"titles\":[\"Connecting Your Service\",\"⚠️ Critical Payment Warning\"]},{\"href\":\"/provider-guide/service-integration#2-start-the-proxy\",\"html\":\"\\n<p>Use the AiMo proxy to connect your service to the network:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#F69D50\\\">aimo</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> proxy</span><span style=\\\"color:#005CC5;--shiki-dark:#F47067\\\"> \\\\</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">  --node-url</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &quot;https://devnet.aimo.network&quot;</span><span style=\\\"color:#005CC5;--shiki-dark:#F47067\\\"> \\\\</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">  --secret-key</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &quot;aimo-sk-prod-[your-api-key]&quot;</span><span style=\\\"color:#005CC5;--shiki-dark:#F47067\\\"> \\\\</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">  --endpoint-url</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &quot;http://localhost:8080&quot;</span><span style=\\\"color:#005CC5;--shiki-dark:#F47067\\\"> \\\\</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">  --api-key</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &quot;your-service-api-key&quot;</span></span></code></pre>\\n<strong>Parameters:</strong>\\n<ul>\\n<li><code>--node-url</code>: AiMo Network node URL (use devnet for testing)</li>\\n<li><code>--secret-key</code>: Your provider API key</li>\\n<li><code>--endpoint-url</code>: Your service&#x27;s HTTP endpoint</li>\\n<li><code>--api-key</code>: Optional API key for your service (added as Authorization header)</li>\\n</ul>\\n\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#2-start-the-proxy\",\"isPage\":false,\"text\":\"\\nUse the AiMo proxy to connect your service to the network:\\naimo proxy \\\\\\n  --node-url &quot;https://devnet.aimo.network&quot; \\\\\\n  --secret-key &quot;aimo-sk-prod-[your-api-key]&quot; \\\\\\n  --endpoint-url &quot;http://localhost:8080&quot; \\\\\\n  --api-key &quot;your-service-api-key&quot;\\nParameters:\\n\\n--node-url: AiMo Network node URL (use devnet for testing)\\n--secret-key: Your provider API key\\n--endpoint-url: Your service&#x27;s HTTP endpoint\\n--api-key: Optional API key for your service (added as Authorization header)\\n\\n\",\"title\":\"2. Start the Proxy\",\"titles\":[\"Connecting Your Service\"]},{\"href\":\"/provider-guide/service-integration#3-test-your-connection\",\"html\":\"\\n<p>Once the proxy is running, you should see logs indicating successful connection:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span>INFO Starting proxy service...</span></span>\\n<span class=\\\"line\\\"><span>INFO Node URL: https://devnet.aimo.network</span></span>\\n<span class=\\\"line\\\"><span>INFO Endpoint URL: http://localhost:8080</span></span>\\n<span class=\\\"line\\\"><span>INFO Connecting to WebSocket: wss://devnet.aimo.network/api/v1/providers/subscribe</span></span>\\n<span class=\\\"line\\\"><span>INFO WebSocket connection established</span></span></code></pre>\",\"id\":\"docs/pages/provider-guide/service-integration.mdx#3-test-your-connection\",\"isPage\":false,\"text\":\"\\nOnce the proxy is running, you should see logs indicating successful connection:\\nINFO Starting proxy service...\\nINFO Node URL: https://devnet.aimo.network\\nINFO Endpoint URL: http://localhost:8080\\nINFO Connecting to WebSocket: wss://devnet.aimo.network/api/v1/providers/subscribe\\nINFO WebSocket connection established\",\"title\":\"3. Test Your Connection\",\"titles\":[\"Connecting Your Service\"]}]}}"
