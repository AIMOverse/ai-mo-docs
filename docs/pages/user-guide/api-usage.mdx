# API Usage

## Using the API

### Chat Completions

AiMo Network provides an OpenAI-compatible chat completion endpoint:

**Base URL:** `https://devnet.aimo.network/api/v1/`

**Endpoint:** `POST /chat/completions`

**Headers:**

```http
Authorization: Bearer aimo-sk-dev-[your-api-key]
Content-Type: application/json
```

**Request Format:**

```json
{
  "model": "provider_pubkey:model_name",
  "messages": [
    {"role": "user", "content": "Hello, how are you?"}
  ],
  "stream": true,
  "max_tokens": 150,
  "temperature": 0.7
}
```

**Key Fields:**

- `model`: Format is `provider_pubkey:model_name` where `provider_pubkey` is the Solana public key of the model provider
- `messages`: Standard OpenAI message format
- `stream`: Set to `true` for streaming responses, `false` for complete responses
- Other standard OpenAI parameters are supported

### Example Usage

#### Using curl

```bash
curl -X POST "https://devnet.aimo.network/api/v1/chat/completions" \
  -H "Authorization: Bearer aimo-sk-dev-[your-api-key]" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "8W7X1tGnWh9CXwnPD7wgke31Gdcqmex4LapJvQ2afBUq:deepseek-chat-v3",
    "messages": [
      {"role": "user", "content": "Explain quantum computing"}
    ],
    "stream": true,
    "max_tokens": 500
  }'
```

#### Using Python

```python
import requests
import json

url = "https://devnet.aimo.network/api/v1/chat/completions"
headers = {
    "Authorization": "Bearer aimo-sk-dev-[your-api-key]",
    "Content-Type": "application/json"
}

data = {
    "model": "8W7X1tGnWh9CXwnPD7wgke31Gdcqmex4LapJvQ2afBUq:deepseek-chat-v3",
    "messages": [
        {"role": "user", "content": "What is machine learning?"}
    ],
    "stream": False,
    "max_tokens": 300
}

response = requests.post(url, headers=headers, json=data)
print(response.json())
```

#### Using JavaScript/Node.js

```javascript
const response = await fetch('https://devnet.aimo.network/api/v1/chat/completions', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer aimo-sk-dev-[your-api-key]',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    model: '8W7X1tGnWh9CXwnPD7wgke31Gdcqmex4LapJvQ2afBUq:deepseek-chat-v3',
    messages: [
      { role: 'user', content: 'Tell me about blockchain technology' }
    ],
    stream: true,
    max_tokens: 400
  })
});

// For streaming responses
const reader = response.body.getReader();
while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  console.log(new TextDecoder().decode(value));
}
```

## Finding Model Providers

To use AiMo Network, you need to find available models and their provider addresses:

1. **Visit the discover page**: Go to [https://aimo.network/demo/discover](https://aimo.network/demo/discover) to browse available models
2. **Copy the model slug**: Find the model you want to use and copy its complete slug in the format `address:model_name`
3. **Use in your requests**: Paste the copied slug directly into your API requests

The model format is always `provider_pubkey:model_name` where `provider_pubkey` is the Solana public key of the model provider.
