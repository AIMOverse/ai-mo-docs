# API Usage

## Using the API

### Chat Completions

AiMo Network provides an OpenAI-compatible chat completion endpoint:

**Base URL:** `https://devnet.aimo.network/api/v1/`

**Endpoint:** `POST /chat/completions`

**Headers:**

```http
Authorization: Bearer aimo-sk-dev-[your-api-key]
Content-Type: application/json
```

**Request Format:**

```json
{
  "model": "provider_pubkey:model_name",
  "messages": [
    {"role": "user", "content": "Hello, how are you?"}
  ],
  "stream": true,
  "max_tokens": 150,
  "temperature": 0.7
}
```

**Key Fields:**

- `model`: Format is `provider_pubkey:model_name` where `provider_pubkey` is the Solana public key of the model provider
- `messages`: Standard OpenAI message format
- `stream`: Set to `true` for streaming responses, `false` for complete responses
- Other standard OpenAI parameters are supported

### Example Usage

#### Using curl

```bash
curl -X POST "https://devnet.aimo.network/api/v1/chat/completions" \
  -H "Authorization: Bearer aimo-sk-dev-[your-api-key]" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM:gpt-3.5-turbo",
    "messages": [
      {"role": "user", "content": "Explain quantum computing"}
    ],
    "stream": true,
    "max_tokens": 500
  }'
```

#### Using Python

```python
import requests
import json

url = "https://devnet.aimo.network/api/v1/chat/completions"
headers = {
    "Authorization": "Bearer aimo-sk-dev-[your-api-key]",
    "Content-Type": "application/json"
}

data = {
    "model": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM:gpt-3.5-turbo",
    "messages": [
        {"role": "user", "content": "What is machine learning?"}
    ],
    "stream": False,
    "max_tokens": 300
}

response = requests.post(url, headers=headers, json=data)
print(response.json())
```

#### Using JavaScript/Node.js

```javascript
const response = await fetch('https://devnet.aimo.network/api/v1/chat/completions', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer aimo-sk-dev-[your-api-key]',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    model: '9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM:gpt-3.5-turbo',
    messages: [
      { role: 'user', content: 'Tell me about blockchain technology' }
    ],
    stream: true,
    max_tokens: 400
  })
});

// For streaming responses
const reader = response.body.getReader();
while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  console.log(new TextDecoder().decode(value));
}
```

## Finding Model Providers

To use AiMo Network, you need to know the provider's Solana public key and available models:

1. **Provider Directory**: Check with your AiMo Network node operator for a list of available providers
2. **Provider Registration**: Providers register their services with their Solana public key
3. **Model Names**: Each provider defines their own model names (e.g., "gpt-3.5-turbo", "claude-v1", etc.)
